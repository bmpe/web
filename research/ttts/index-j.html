<!DOCTYPE HTML>
<html lang="ja"><head>

    
         <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->



<meta content="text/html; charset=utf-8" http-equiv="Content-Type"><title>医用精密工学研究室 - 双胎間輸血症候群の治療における胎盤表面のマッピング・システムの開発</title>

<link type="text/css" rel="stylesheet" href="../../style.css">
<script type="text/javascript">
function MM_swapImgRestore() { //v3.0
var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}
function MM_preloadImages() { //v3.0
var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}
function MM_findObj(n, d) { //v4.01
var p,i,x; if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
if(!x && d.getElementById) x=d.getElementById(n); return x;
}
function MM_swapImage() { //v3.0
var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}
</script>
         <style type="text/css">
             .auto-style1 {
                 width: 691px;
                 height: 247px;
             }
         </style>
</head><body onload="MM_preloadImages('../../../menu_img/news-onmouse.png','../../../menu_img/research-onmouse_1.png','../../../menu_img/research-onmouse_2.png','../../../menu_img/research-onmouse_4.png')" style="background-image: url(../../backgd.png);">
<div id="container">

<header>
    <table>
        <tr class="titlefont">
            <td class="titlefont"><img src="../../title.png" class="titlefont" height="70">
            </td>
        </tr>
        <tr class="language">
            <td><p><a href="../../contact.html">お問い合わせ</a>　Japanese | English&nbsp;</p></td>
        </tr>

        <tr class="place">
            <td><p> 　»  <a href="../../index.html">TOP</a> » <a href="../research.html">研究内容</a> » <a href="../research_bio.html">新しい手術支援システムの実用化と評価手法の確立</a>
                <br />
&nbsp;&nbsp; » 双胎間輸血症候群の治療における胎盤表面のマッピング・システムの開発
</p></td>
        </tr>
    </table>
</header>

<nav>
    <table border="0" class="menu">
        <tr>
            <td class="menh" style="height: 24px"></td>
        </tr>
        <tr>
            <td class="menu_button"><p><a href="../../news.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image12','','../../menu_img/news-onmouse.png',1)"><img src="../../menu_img/news-normal.png" name="Image12" align="middle" border="0" height="32" width="140"></a></p></td>
        </tr>
      <tr>
        <td class="menh"></td>
      </tr>
      <tr>
        <td class="menu_button"><p><a href="../../abs.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image7','','../../menu_img/abs-onmouse.png',1)"><img src="../../menu_img/abs-normal.png" name="Image7" align="middle" border="0" height="32" width="140"></a></p></td>
      </tr>
      <tr>
        <td class="menh"></td>
      </tr>
      <tr>
        <td class="menu_button"><a href="../research.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image8','','../../menu_img/research-onmouse.png',1)"><img src="../../menu_img/research-onmouse.png" name="Image8" align="middle" border="0" height="32" width="140"></a>

            <table border="0" cellpadding="0" cellspacing="0" width="140">
              <tbody>
                <tr>
                  <td width="10">&nbsp;</td>
                  <td class="submenu">
                  <p><a href="../research_robo.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image13','','../../menu_img/research-onmouse_1.png',1)"><img style="border: 0px solid ; width: 130px; height: 32px;" alt="normal5" src="../../menu_img/research-normal_1.png" name="Image13" align="middle"></a></p>
                  </td>
                </tr>
                <tr>
                  <td width="10">&nbsp;</td>
                  <td class="submenu">
                  <p><a href="../research_ima.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image14','','../../menu_img/research-onmouse_2.png',1)"><img style="border: 0px solid ; width: 130px; height: 32px;" alt="normal6" src="../../menu_img/research-normal_2.png" name="Image14" align="middle"></a></p>
                  </td>
                </tr>
                <tr>
                  <td>&nbsp;</td>
                  <td class="submenu">
                  <p><a href="../research_bio.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image15','','../../menu_img/research-onmouse_3.png',1)"><img style="border: 0px solid ; width: 130px; height: 32px;" alt="normal7" src="../../menu_img/research-onmouse_3.png" name="Image15" align="middle"></a></p>
                  </td>
                </tr>
                <tr>
                  <td width="10">&nbsp;</td>
                  <td class="submenu">
                  <p><a href="../research_pre.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image16','','../../menu_img/research-onmouse_4.png',1)"><img src="../../menu_img/research-normal_4.png" name="Image16" align="middle" border="0" height="32" width="130"></a></p>
                  </td>
                </tr>
              </tbody>
            </table>
        </td>

          
      </tr>
      <tr>
        <td class="menh"></td>
      </tr>
      <tr>
        <td class="menu_button"><a href="../../paper/paper.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image9','','../../menu_img/paper-onmouse.png',0)"><img src="../../menu_img/paper-normal.png" name="Image9" align="middle" border="0" height="32" width="140"></a></td>
      </tr>
      <tr>
        <td class="menh"></td>
      </tr>
       <tr>
        <td class="menu_button"><a href="../../award.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image-award','','../../menu_img/award-onmouse.png',1)"><img src="../../menu_img/award-normal.png" name="Image-award" align="middle" border="0" height="32" width="140"></a></td>
      </tr>
      <tr>
        <td class="menh"></td>
      </tr>
          <tr>
        <td class="menu_button" style="height: 32px"><a href="../../member.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image10','','../../menu_img/member-onmouse.png',1)"><img src="../../menu_img/member-normal.png" name="Image10" align="middle" border="0" height="32" width="140"></a></td>
      </tr>
      <tr>
        <td class="menh"></td>
      </tr>
      <tr>
        <td class="menu_button"><a href="../../link.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image11','','../../menu_img/link-onmouse.png',1)"><img src="../../menu_img/link-normal.png" name="Image11" align="middle" border="0" height="32" width="140"></a></td>
      </tr>
        <tr>
            <td class="menu_button">
                    <p class="wzw"><a href="../../private/private.html">Members Only</a></p>
            </td>
        </tr>
        <tr>
            <td>
                <p></p>
            </td>
        </tr>
    </table>
</nav>

<article>
    <table class="contents">
        <tbody>
            <tr>
                <td valign="top">
      <p class="researchindex">双胎間輸血症候群の治療における胎盤表面の<br>
マッピング・システムの開発<br>
－能動輪郭抽出手法による内視鏡画像領域の自動取得－</p>
      <p class="researchitem">Abstract</p>
      <p class="researchtext">　Twin
to Twin Transfusion Syndrome (TTTS) is a disease of the placenta that
affects identical twin pregnancies. The common treatment for severe
TTTS is to use laser ablation under the guidance of endoscope. However,
the narrow viewing area of the endoscope limits the surgeon to identify
the abnormal vessel. We develop a navigation system for mapping the
endoscope image to the placeta to improve the treatment’s safety and
accuracy. The multiple images and its corresponding positons are
achieved by an endoscope and an optical tracking system. We synthesize
the images and make an overall image of the placenta using
computer-assisted geometric correction and color-balancing modulation.
Our system user interface enable an automatic image recognitation and
compensation for optimal endoscope image mapping. Experimental results
show that the accuacy of the image mapping system is satisfied with the
requirments of the endosope guided laser ablation for TTTS treatment.</p>
      <p class="researchtext">Key Words: Twin-To-Twin Transfusion
Syndrome (TTTS), Placenta, Endoscope image, Image mapping.</p>
      <p class="researchitem">1．緒言</p>
      <p class="researchtext">　双胎間輸血症候群は、一卵性双胎に起こる疾病であり、双胎児の胎盤血管が吻合することにより、双子の間での血液の不均衡が生じるようになるという疾患である。現在、この疾患に対する低侵襲な治療法として注目されている一つに、レーザ焼灼療法がある。この治療法では、医師が内視鏡で胎盤表面をなぞり、目測で吻合血管の同定を行う。吻合血管と見なされた部位が見つかれば、その部位をレーザで焼灼し、不均衡な血流を遮断させる。</p>
      <p class="researchtext">　しかし、内視鏡の局所的な視野により観察できる範囲が非常に小さいので、吻合血管の同定に必要とする全体的な胎盤上の血管系を把握することは医師の記憶にしか頼らない。このような原因で吻合血管を見落とす可能性があり、医師の負担も大きくなるという問題がある。</p>
      <p class="researchtext">　そこで、本研究では双胎間輸血症候群の治療であるレーザ焼灼術の効率性・安全性を向上させるために、胎盤表面のマッピング・システムを開発する。具体的には、まず胎盤表面を内視鏡で一枚一枚撮影し、画像の補正処理を行った上で、２次元の広域的なマッピング画像を作成する。更に、胎盤の３次元座標データを取得することで２次元マッピング画像を３次元座標空間に投影させ、３次元胎盤モデルを作成する。また、医師がこのシステムを容易に使えるように、容易に操作できるようなユーザ・インタフェースを作成する。</p>
      <p class="researchtext">　開発の初段階として、我々は2次元マッピングを行った上で問題となった内視鏡画像の歪みと内視鏡のRCM機構による動作で生じた画像の奥行き変形を補正し、そして画像を合成するシステムを開発した(Fig.1)。</p>
      <table border="0" cellpadding="0" cellspacing="0" width="700">
        <tbody>
          <tr>
            <td align="center"><img alt="1" src="image/fig1_without.png" class="auto-style1"></td>
          </tr>
          <tr>
            <td align="center">
            <p>Fig.1 Result of image correction system. (a) Endscope
images. </p>
            <p>(b) Combined image after correction has been done. </p>
            </td>
          </tr>
        </tbody>
      </table>
      <p class="researchtext">　しかし、開発したシステムでは画像領域の取得は手動で行われた。そこで、このシステムが臨床に利用できるように、画像領域を自動取得するシステムが必要となる。</p>
      <p class="researchitem">2．方法</p>
      <p class="researchtext">　本研究では画像領域を取得するために能動輪郭抽出手法2)を利用した。この手法では、画像領域の動的な輪郭トラッキングを可能とし、また測定時間を短くできる利点がある。これで、画像領域の拡大・縮小や内視鏡の鏡筒が汚れで交換されること等による画像領域の変化が生じても、自動的に画像領域の取得が可能にる。</p>
      <p class="researchitem">2.1．能動輪郭抽出手法</p>
      <p class="researchtext">能動輪郭とはエネルギーを持った曲線を描く点集合のことである。この点集合のエネルギーを最小化することにより、特徴を持った画像内の局所輪郭を検出できる。能動輪郭モデルにあるエネルギーは内部エネルギーと外部エネルギーから構成されている[式(1)～(3)]。ただし、式内のvを点集合の位置、Iを画像内の輝度値とする。</p>
      <p class="researchtext">　ここでは、内部エネルギーは曲線の伸縮（式(2)の右辺の第1項）と屈曲（式(2)の右辺の第2項）により生じるエネルギーであり、外部エネルギーは画像内のグラジエント値で生じるエネルギーのことを表す。以下の式を用いてそれぞれの点のエネルギーを周りの(9×9)画素の範囲内における点のエネルギーと比較し、最小エネルギーを持つ場所に位置を変える。これを点集合のエネルギーが最小となるまで繰り返す。</p>
      <table border="0" cellpadding="0" cellspacing="0" width="700">
        <tbody>
          <tr>
            <td align="center"><img style="width: 690px; height: 168px;" alt="math" src="image/math.png"></td>
          </tr>
        </tbody>
      </table>
      <p class="researchtext">しかし、このシステムで抽出したい画像領域が円形であることに対して、能動輪郭抽出手法で抽出できるものは円形になるとは限らない。そこで、この手法に円形補正処理を加える必要がある。</p>
      <p class="researchtext">円形補正処理を行うために、2つの処理を行った。まず、エネルギー測定では点集合の曲線をなるべく円形にするために、円の屈曲エネルギーを基準の屈曲エネルギーとして設定する。更に、エネルギー測定の繰り返しが行われるたびに、出てきた点集合を最小2乗法を用いて中心点と半径を求め円形に直した。</p>
      <p class="researchitem">2.2．ローパスフィルタ</p>
      <p class="researchtext">　2.1
の能動輪郭抽出手法は、画像内のノイズに影響されやすいので、最適な結果を得るために、ノイズを低減する必要がある。そこで、高速フーリエ変換（FFT）を用いた。画像の輝度値を周波数のスペクトルにフーリエ変換し、そして得られたスペクトルから中央の画素を切り出すローパスフィルタを通し、逆フーリエ変換すれば、ノイズを低減できる。 </p>
      <p class="researchitem">2.3．画像の縮小化</p>
      <p class="researchtext">　処理時間を短くするために、そして更なるノイズ低減の手段として、画像を先に半分に縮小した。また、能動輪郭抽出手法で画像領域が得られたら、その領域を2倍にすることで、元のサイズの画像領域が得られる。</p>
      <p class="researchitem">3．評価実験</p>
      <p class="researchtext">　能動輪郭抽出手法を用い、画像領域を自動取得する実験を行った。対象画像としてはノイズが少ないものと多く入ったものを使用した。ここで、主なノイズは内視鏡が対象物体に接近したことにより、内視鏡の光源から出た光が対象物体に反射され鏡筒
に入ってくる光のことである。</p>
      <p class="researchtext">　Fig.2aは、画像領域の外側にノイズが少なかった場合を、Fig.2bは、反射される光によるノイズがある場合を示している。能動輪郭抽出手法を用いたことにより、ノイズが多く入った場合でも画像領域を取得できた。</p>
      <table border="0" cellpadding="0" cellspacing="0" width="700">
        <tbody>
          <tr>
            <td align="center"><img style="width: 537px; height: 275px;" alt="2" src="image/fig2_without.png"></td>
          </tr>
          <tr>
            <td align="center">Fig.2 Image area result using
activecontour. (a) Image with low noise. (b) Image with high noise. </td>
          </tr>
        </tbody>
      </table>
      <p class="researchtext">　Fig.3
は画像領域を取得するアプリケーションのユーザ・インタフェースを示した。このアプリケーションを用いて、画像領域を自動的に取得できるようになる。ユーザ・インタフェースには内視鏡画像の表示、撮った画像の表示、能動輪郭抽出手法で画像領域を取得した画像の表示、そして画像領域の外側のノイズを除去した画像に歪み補正処理を行った結果の画像表示という4つの表示機能を取り入れた。</p>
      <table border="0" cellpadding="0" cellspacing="0" width="700">
        <tbody>
          <tr>
            <td align="center"><img style="width: 603px; height: 372px;" alt="3" src="image/fig3_without.png"></td>
          </tr>
          <tr>
            <td align="center">Fig.3 User interface for automatically
image procession </td>
          </tr>
        </tbody>
      </table>
      <p class="researchtext">　Fig.4
は能動輪郭抽出手法の有用性を評価するために使用したテストパターンと画像領域を自動取得した画像に歪み補正処理を行った結果の拡大画像を示した。実験を10回繰り返し、補正した画像をテストパターンと比較した結果、2.76±0.43[pixel]のズレが得られた。これは画像の解像度87
[pixel/inch]で約0.8[mm]のズレであり、十分小さいと考えられる。また、処理時間は0.26±0.001 [s]であった。</p>
      <table border="0" cellpadding="0" cellspacing="0" width="700">
        <tbody>
          <tr>
            <td align="center"><img style="width: 532px; height: 277px;" alt="4" src="image/fig4_without.png"></td>
          </tr>
          <tr>
            <td align="center">
            <p>Fig.4 Evaluation results. (a) Image pattern used for
evaluation.</p>
            <p>(b) Correction of extracted image area. </p>
            </td>
          </tr>
        </tbody>
      </table>
      <p class="researchitem">4．まとめ</p>
      <p class="researchtext">　本研究では能動輪郭抽出手法を用いて、画像領域の自動取得が可能となることが分かった。今後は、超音波診断装置を用い胎盤の３次元モデルを作成し、そのモデルにマッピング画像を投影させることが課題となる。</p>
      <p class="researchitem">謝辞</p>
      <p class="researchtext">　本研究の一部は厚生労働科学研究費補助金による。</p>
      <p class="researchitem">Related Papers:</p>
      <table class="researchtable" align="center" border="0" cellpadding="0" cellspacing="0" width="630">
        <tbody>
          <tr>
            <td align="center" valign="top" width="40">1</td>
            <td width="582">トゥ
ア ナモラ
ナインゴラン，廖洪恩，佐久間一郎，千葉敏雄：双胎間輸血症候群の治療における胎盤表面のマッピング・システムの開発－能動輪郭抽出手法による内視鏡画像
領域の自動取得－, 第15回日本コンピュータ外科学会大会, pp.165-166, 東京 2006年10月</td>
          </tr>
          <tr>
            <td align="center" valign="top">2</td>
            <td width="582">Tua
Namora Nainggolan, Hongen Liao, Etsuko Kobayashi, Toshio Chiba, Ichiro
Sakuma: Development of Placenta Mapping System for Treatment of
Twin-to-Twin Transfusion Syndrome (TTTS), In Proc. of the
21thInternational Congress and Exhibition, Computer Assisted Radiology
andSurgery, Berlin, Germany, June 2007.</td>
          </tr>
          <tr>
            <td align="center" valign="top">3</td>
            <td width="582">Nainggolan et.al, “Development of
Navigation System for Treatment of
Twin-to-Twin Transfusion Syndrome (TTTS) ~ Development of Image
Processing Application for Vascular Mapping System”, ROBOMEC, 2006.</td>
          </tr>
        </tbody>
      </table>
      <p>&nbsp;</p>
      </td>
            </tr>
        </tbody>        
    </table>
</article>

<footer>
    <table class="footer_table">
  <tbody><tr>
    <td class="footer_td" id="footer"><p>東京大学<br />
      大学院工学系研究科　精密工学専攻<br>
      大学院工学系研究科　バイオエンジニアリング専攻<br>
    大学院新領域創成科学研究科　人間環境学専攻<br>
工学部　精密工学科<br>
</p>
        <p>医用精密工学研究室<br>
      Phone : 03-5841-7480（内線27480）<br>
    FAX : 03-5841-6446</p></td>
    <td class="logo_td" style="width: 374px"><p><img src="../../logo.png" height="104" width="350"></p></td>
  </tr>
  <tr>
    <td colspan="2" class="copy"> <p>Copyright c Bio-Medical
    Precision Engineering Laboratory. All Rights Reserved.
    No reproduction or republication without written permission.</p>
    <p>当サイトのバナー(  234 x 60  )は<a href="../../link.html">こちら</a>からどうぞ</p></td>
  </tr>
</tbody></table>
</footer>
</div>
</body></html>